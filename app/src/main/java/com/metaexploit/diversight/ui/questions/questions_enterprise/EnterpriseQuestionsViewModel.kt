package com.metaexploit.diversight.ui.questions.questions_enterprise

import androidx.fragment.app.FragmentActivity
import androidx.lifecycle.LiveData
import androidx.lifecycle.MutableLiveData
import androidx.lifecycle.ViewModel
import com.google.android.material.textfield.TextInputLayout
import com.metaexploit.diversight.R

class EnterpriseQuestionsViewModel : ViewModel() {

    private val _permission: MutableLiveData<Boolean> = MutableLiveData(false)
    val permission: LiveData<Boolean> = _permission

    private val _clearFocus: MutableLiveData<Boolean> = MutableLiveData(false)
    val clearFocus: LiveData<Boolean> = _clearFocus

    fun textIsEmpty(activity: FragmentActivity, editLayout: TextInputLayout) {
        editLayout.editText?.let { edt ->
            val text = edt.text
            if (text.isBlank() || text.toString() == activity.getString(R.string.select)) {
                editLayout.isErrorEnabled = true
                editLayout.error = activity.getString(R.string.empty_input)
            } else {
                editLayout.isErrorEnabled = false
            }
        }
    }

}